class BookingList{constructor(g){this.currentPage=1;this.totalPages=0;this.loadMoreButton=document.getElementById("load-more-button");this.pagination=document.getElementById("booking-list--pagination");this.element=g;this.users=Array.from(document.querySelectorAll(".filter-users option"));this.items=Array.from(document.querySelectorAll(".filter-items option"));this.locations=Array.from(document.querySelectorAll(".filter-locations option"));this.states=Array.from(document.querySelectorAll(".filter-statuss option"));
this.startDate=document.querySelector(".filter-startdate input");jQuery("#startDate-datepicker").datepicker({dateFormat:"yy-mm-dd",altFormat:"@",altField:"#startDate"});jQuery("#startDate-datepicker").datepicker("setDate",new Date);this.endDate=document.querySelector(".filter-enddate input");jQuery("#endDate-datepicker").datepicker({dateFormat:"yy-mm-dd",altFormat:"@",altField:"#endDate"});this.filters={users:[],items:[],locations:[],startDate:[],endDate:[],states:[]};this.shuffle=new Shuffle(g);
this._resetListParams();this._addSorting();this._reloadData();this._bindEventListeners()}_resetListParams(){this.listParams=new FormData;this.listParams.append("_ajax_nonce",cb_ajax_bookings.nonce);this.listParams.append("action","cb_bookings_data");this.listParams.append("page",1)}_bindEventListeners(){this._onFilterReset=this._handleFilterReset.bind(this);var g=jQuery("#reset-filters");if(g)g.on("click",this._onFilterReset);this._onFilter=this.filter.bind(this);if(g=jQuery("#filter"))g.on("click",
this._onFilter);this._onUserChange=this._handleUserChange.bind(this);(g=document.querySelectorAll(".filter-users select"))&&g.item(0).addEventListener("change",this._onUserChange);this._onItemChange=this._handleItemChange.bind(this);(g=document.querySelectorAll(".filter-items select"))&&g.item(0).addEventListener("change",this._onItemChange);this._onLocationChange=this._handleLocationChange.bind(this);(g=document.querySelectorAll(".filter-locations select"))&&g.item(0).addEventListener("change",this._onLocationChange);
this._onStatusChange=this._handleStatusChange.bind(this);(g=document.querySelectorAll(".filter-statuss select"))&&g.item(0).addEventListener("change",this._onStatusChange);this._onStartDateChange=this._handleStartDateChange.bind(this);if(g=jQuery("#startDate-datepicker"))g.datepicker("option","onSelect",this._onStartDateChange),g.change(this._onStartDateChange);this._onEndDateChange=this._handleEndDateChange.bind(this);if(g=jQuery("#endDate-datepicker"))g.datepicker("option","onSelect",this._onEndDateChange),
g.change(this._onEndDateChange)}_handleStartDateChange(){this.filters.startDate=[];if(jQuery("#startDate-datepicker").datepicker("getDate")){let g=parseInt(document.querySelector("#startDate").value.slice(0,-3))+3600;this.filters.startDate=[g+""]}}_handleEndDateChange(){this.filters.endDate=[];if(jQuery("#endDate-datepicker").datepicker("getDate")){let g=parseInt(document.querySelector("#endDate").value.slice(0,-3))+3600;this.filters.endDate=[g+""]}}_handleUserChange(){this.filters.users=this._getCurrentUserFilters();
"all"==this.filters.users[0]&&(this.filters.users=[])}_getCurrentUserFilters(){return this.users.filter(function(g){return g.selected}).map(function(g){return g.value})}_handleItemChange(){this.filters.items=this._getCurrentItemFilters();"all"==this.filters.items[0]&&(this.filters.items=[])}_getCurrentItemFilters(){return this.items.filter(function(g){return g.selected}).map(function(g){return g.value})}_handleLocationChange(){this.filters.locations=this._getCurrentLocationFilters();"all"==this.filters.locations[0]&&
(this.filters.locations=[])}_getCurrentLocationFilters(){return this.locations.filter(function(g){return g.selected}).map(function(g){return g.value})}_handleStatusChange(){this.filters.states=this._getCurrentStatusFilters();"all"==this.filters.states[0]&&(this.filters.states=[])}_getCurrentStatusFilters(){return this.states.filter(function(g){return g.selected}).map(function(g){return g.value})}_handleFilterReset(){if("undefined"!==typeof this.filters){for(const [l]of Object.entries(this.filters)){let t=
document.getElementById("filter-"+l.substring(0,l.length-1));if(t&&"undefined"!=typeof t)for(var g=t.options.length-1;0<=g;g--){const h=t.options[g].value;t.options[g].style.display="inline";t.options[g].selected=!1;"all"==h&&(t.options[g].selected=!0)}else console.log("filter-"+l.substring(0,l.length-1));this.startDate.value="";this.endDate.value="";this.filters[l]=[]}this.filter()}}_handleFilterUpdate(g){if("undefined"!==typeof g.filters)for(const [l,t]of Object.entries(g.filters)){let h=document.getElementById("filter-"+
l);for(g=h.options.length-1;0<=g;g--){const e=h.options[g].value;"all"===e||t.includes(e)?h.options[g].style.display="inline":h.options[g].style.display="none"}}}_reloadData(){this._renderPagination=this._handleRenderPagination.bind(this);this._filterUpdate=this._handleFilterUpdate.bind(this);var g=this;fetch(cb_ajax_bookings.ajax_url,{method:"POST",body:this.listParams}).then(function(l){return l.json()}).then(function(l){g.totalPages=l.total_pages;g._renderPagination(g.totalPages,l.page);g._filterUpdate(l);
2>g.totalPages&&"undefined"!==typeof g.pagination&&(g.pagination.style.display="none");l=g._getItemMarkup(l.data);g._appendMarkupToGrid(l);g.shuffle=new Shuffle(g.element,{itemSelector:".js-item",sizer:".my-sizer-element"})})}_handleRenderPagination(g,l){this.pagination.innerHTML="";if(1<this.totalPages){let t="<ul>";for(let h=1;h<=g;h++){let e="";h==l&&(e=' class="active" ');if(1==h||h==g||h<parseInt(l)+3&&h>parseInt(l)-3)t+='<li data-page="'+h+'"'+e+">"+h+"</li>";if(h==parseInt(l)+3||h==parseInt(l)-
3)t+="<li >...</li>"}this.pagination.insertAdjacentHTML("beforeend",t+"</ul");this.pagination.style.display="block";this._bindPaginationHandler()}else this.pagination.style.display="none"}_bindPaginationHandler(){this._onPageChange=this._handlePageChange.bind(this);var g=this;document.querySelectorAll("#booking-list--pagination ul li").forEach(function(l){l.dataset.page&&l.addEventListener("click",g._onPageChange)})}_handlePageChange(g){this.listParams.set("page",g.currentTarget.dataset.page);this._reloadData()}filter(){jQuery("#filter").addClass("loading");
this.hasActiveFilters()?(this.filters.startDate.length?this.listParams.set("startDate",this.filters.startDate):this.listParams.delete("startDate"),this.filters.endDate.length?this.listParams.set("endDate",this.filters.endDate):this.listParams.delete("endDate"),this.filters.items.length?this.listParams.set("item",this.filters.items[0]):this.listParams.delete("item"),this.filters.users.length?this.listParams.set("user",this.filters.users[0]):this.listParams.delete("user"),this.filters.locations.length?
this.listParams.set("location",this.filters.locations[0]):this.listParams.delete("location"),this.filters.states.length?this.listParams.set("status",this.filters.states[0]):this.listParams.delete("status"),this.shuffle.filter(this.itemPassesFilters.bind(this))):(this._resetListParams(),this.shuffle.filter(Shuffle.ALL_ITEMS));this._reloadData();jQuery("#filter").removeClass("loading")}hasActiveFilters(){return Object.keys(this.filters).some(function(g){return 0<this.filters[g].length},this)}itemPassesFilters(g){var l=
this.filters.users,t=this.filters.items,h=this.filters.locations,e=this.filters.states,k=g.getAttribute("data-user"),m=g.getAttribute("data-item"),z=g.getAttribute("data-location");g=g.getAttribute("data-status");return 0<l.length&&!l.includes(k)||0<t.length&&!t.includes(m)||0<h.length&&!h.includes(z)||0<e.length&&!e.includes(g)?!1:!0}_initItemElement(g){var l=document.createElement("div");l.classList.add("js-item");l.classList.add("cb-wrapper");l.dataset.user=g.user;l.dataset.item=g.item;l.dataset.location=
g.location;return l}_initHeadlineElement(g){let l=document.createElement("p");l.classList.add("js-item--headline");var t=document.createElement("span");t.classList.add("cb-date");t.innerText=g.startDateFormatted+" - "+g.endDateFormatted;let h=document.createElement("span");h.classList.add("cb-title");h.innerText=g.item+" @ "+g.location;l.append(t);l.append(h);g.bookingCode&&(t=document.createElement("span"),t.classList.add("cb-booking-code"),t.innerText=g.bookingCode.label+": "+g.bookingCode.value,
l.append(t));return l}_initContentElement(g){var l=document.createElement("div");l.classList.add("js-item--infos");let t="";for(const [,h]of Object.entries(g.content))t+="<span>"+h.label+": "+h.value+"</span>";l.innerHTML=t+"";return l}_initActionsElement(g){var l=document.createElement("div");l.classList.add("js-item--action");l.classList.add("cb-action");l.insertAdjacentHTML("beforeend",g.actions);return l}_getMarkupFromData(g){var l=this._initItemElement(g),t=document.createElement("div");t.classList.add("content-wrapper");
t.append(this._initHeadlineElement(g));t.append(this._initContentElement(g));t.append(this._initActionsElement(g));l.append(t);return l.outerHTML}_getItemMarkup(g){let l=this;return g?g.reduce(function(t,h){return t+l._getMarkupFromData(h)},""):""}_appendMarkupToGrid(g){this.element.innerHTML="";this.element.insertAdjacentHTML("beforeend",g)}_addSorting(){var g=document.getElementById("sorting");g&&(g.addEventListener("change",this._handleSortChange.bind(this)),(g=document.getElementById("order"))&&
g.addEventListener("change",this._handleSortChange.bind(this)))}_handleSortChange(){var g=document.getElementById("sorting");g=g.options[g.selectedIndex].value;var l=document.getElementById("order");l=l.options[l.selectedIndex].value;this.listParams.set("sort",g);this.listParams.set("order",l);this._reloadData()}}document.addEventListener("DOMContentLoaded",()=>{var g=document.getElementById("booking-list--results");g&&(window.demo=new BookingList(g));jQuery("#cb-booking-comment").keyup(function(){jQuery("input[type=hidden][name=comment]").val(this.value)})});
!function(g,l){"object"==typeof exports&&"object"==typeof module?module.exports=l():"function"==typeof define&&define.amd?define("Litepicker",[],l):"object"==typeof exports?exports.Litepicker=l():g.Litepicker=l()}(window,function(){return function(g){function l(h){if(t[h])return t[h].exports;var e=t[h]={i:h,l:!1,exports:{}};return g[h].call(e.exports,e,e.exports,l),e.l=!0,e.exports}var t={};return l.m=g,l.c=t,l.d=function(h,e,k){l.o(h,e)||Object.defineProperty(h,e,{enumerable:!0,get:k})},l.r=function(h){"undefined"!=
typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},l.t=function(h,e){if((1&e&&(h=l(h)),8&e)||4&e&&"object"==typeof h&&h&&h.__esModule)return h;var k=Object.create(null);if(l.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:h}),2&e&&"string"!=typeof h)for(var m in h)l.d(k,m,function(z){return h[z]}.bind(null,m));return k},l.n=function(h){var e=h&&h.__esModule?function(){return h.default}:function(){return h};
return l.d(e,"a",e),e},l.o=function(h,e){return Object.prototype.hasOwnProperty.call(h,e)},l.p="",l(l.s=4)}([function(g,l,t){Object.defineProperty(l,"__esModule",{value:!0});l.DateTime=void 0;g=function(){function h(e,k,m){void 0===e&&(e=null);void 0===k&&(k=null);void 0===m&&(m="en-US");this.dateInstance=k?h.parseDateTime(e,k,m):e?h.parseDateTime(e):h.parseDateTime(new Date);this.lang=m}return h.parseDateTime=function(e,k,m){if(void 0===k&&(k="YYYY-MM-DD"),void 0===m&&(m="en-US"),!e)return new Date(NaN);
if(e instanceof Date)return new Date(e);if(e instanceof h)return e.clone().getDateInstance();if(/^-?\d{10,}$/.test(e))return h.getDateZeroTime(new Date(Number(e)));if("string"==typeof e){for(var z=[],w;null!=(w=h.regex.exec(k));)"\\"!==w[1]&&z.push(w);if(z.length){k={year:null,month:null,shortMonth:null,longMonth:null,day:null,value:""};0<z[0].index&&(k.value+=".*?");w=0;for(z=Object.entries(z);w<z.length;w++){var a=z[w],f=Number(a[0]);a=h.formatPatterns(a[1][0],m);var n=a.pattern;k[a.group]=f+1;
k.value+=n;k.value+=".*?"}w=new RegExp("^"+k.value+"$");if(w.test(e))return e=w.exec(e),w=Number(e[k.year]),z=null,k.month?z=Number(e[k.month])-1:k.shortMonth?z=h.shortMonths(m).indexOf(e[k.shortMonth]):k.longMonth&&(z=h.longMonths(m).indexOf(e[k.longMonth])),new Date(w,z,Number(e[k.day])||1,0,0,0,0)}}return h.getDateZeroTime(new Date(e))},h.convertArray=function(e,k){return e.map(function(m){return m instanceof Array?m.map(function(z){return new h(z,k)}):new h(m,k)})},h.getDateZeroTime=function(e){return new Date(e.getFullYear(),
e.getMonth(),e.getDate(),0,0,0,0)},h.shortMonths=function(e){return h.MONTH_JS.map(function(k){return(new Date(2019,k)).toLocaleString(e,{month:"short"})})},h.longMonths=function(e){return h.MONTH_JS.map(function(k){return(new Date(2019,k)).toLocaleString(e,{month:"long"})})},h.formatPatterns=function(e,k){switch(e){case "YY":case "YYYY":return{group:"year",pattern:"(\\d{"+e.length+"})"};case "M":return{group:"month",pattern:"(\\d{1,2})"};case "MM":return{group:"month",pattern:"(\\d{2})"};case "MMM":return{group:"shortMonth",
pattern:"("+h.shortMonths(k).join("|")+")"};case "MMMM":return{group:"longMonth",pattern:"("+h.longMonths(k).join("|")+")"};case "D":return{group:"day",pattern:"(\\d{1,2})"};case "DD":return{group:"day",pattern:"(\\d{2})"}}},h.prototype.getDateInstance=function(){return this.dateInstance},h.prototype.toLocaleString=function(e,k){return this.dateInstance.toLocaleString(e,k)},h.prototype.toDateString=function(){return this.dateInstance.toDateString()},h.prototype.getSeconds=function(){return this.dateInstance.getSeconds()},
h.prototype.getDay=function(){return this.dateInstance.getDay()},h.prototype.getTime=function(){return this.dateInstance.getTime()},h.prototype.getDate=function(){return this.dateInstance.getDate()},h.prototype.getMonth=function(){return this.dateInstance.getMonth()},h.prototype.getFullYear=function(){return this.dateInstance.getFullYear()},h.prototype.setMonth=function(e){return this.dateInstance.setMonth(e)},h.prototype.setHours=function(e,k,m,z){void 0===e&&(e=0);void 0===k&&(k=0);void 0===m&&
(m=0);void 0===z&&(z=0);this.dateInstance.setHours(e,k,m,z)},h.prototype.setSeconds=function(e){return this.dateInstance.setSeconds(e)},h.prototype.setDate=function(e){return this.dateInstance.setDate(e)},h.prototype.setFullYear=function(e){return this.dateInstance.setFullYear(e)},h.prototype.getWeek=function(e){var k=new Date(this.timestamp()),m=(this.getDay()+(7-e))%7;k.setDate(k.getDate()-m);m=k.getTime();return k.setMonth(0,1),k.getDay()!==e&&k.setMonth(0,1+(4-k.getDay()+7)%7),1+Math.ceil((m-
k.getTime())/6048E5)},h.prototype.clone=function(){return new h(this.getDateInstance())},h.prototype.isBetween=function(e,k,m){switch(void 0===m&&(m="()"),m){default:case "()":return this.timestamp()>e.getTime()&&this.timestamp()<k.getTime();case "[)":return this.timestamp()>=e.getTime()&&this.timestamp()<k.getTime();case "(]":return this.timestamp()>e.getTime()&&this.timestamp()<=k.getTime();case "[]":return this.timestamp()>=e.getTime()&&this.timestamp()<=k.getTime()}},h.prototype.isBefore=function(e,
k){switch(void 0===k&&(k="seconds"),k){case "second":case "seconds":return e.getTime()>this.getTime();case "day":case "days":return(new Date(e.getFullYear(),e.getMonth(),e.getDate())).getTime()>(new Date(this.getFullYear(),this.getMonth(),this.getDate())).getTime();case "month":case "months":return(new Date(e.getFullYear(),e.getMonth(),1)).getTime()>(new Date(this.getFullYear(),this.getMonth(),1)).getTime();case "year":case "years":return e.getFullYear()>this.getFullYear()}throw Error("isBefore: Invalid unit!");
},h.prototype.isSameOrBefore=function(e,k){switch(void 0===k&&(k="seconds"),k){case "second":case "seconds":return e.getTime()>=this.getTime();case "day":case "days":return(new Date(e.getFullYear(),e.getMonth(),e.getDate())).getTime()>=(new Date(this.getFullYear(),this.getMonth(),this.getDate())).getTime();case "month":case "months":return(new Date(e.getFullYear(),e.getMonth(),1)).getTime()>=(new Date(this.getFullYear(),this.getMonth(),1)).getTime()}throw Error("isSameOrBefore: Invalid unit!");},
h.prototype.isAfter=function(e,k){switch(void 0===k&&(k="seconds"),k){case "second":case "seconds":return this.getTime()>e.getTime();case "day":case "days":return(new Date(this.getFullYear(),this.getMonth(),this.getDate())).getTime()>(new Date(e.getFullYear(),e.getMonth(),e.getDate())).getTime();case "month":case "months":return(new Date(this.getFullYear(),this.getMonth(),1)).getTime()>(new Date(e.getFullYear(),e.getMonth(),1)).getTime();case "year":case "years":return this.getFullYear()>e.getFullYear()}throw Error("isAfter: Invalid unit!");
},h.prototype.isSameOrAfter=function(e,k){switch(void 0===k&&(k="seconds"),k){case "second":case "seconds":return this.getTime()>=e.getTime();case "day":case "days":return(new Date(this.getFullYear(),this.getMonth(),this.getDate())).getTime()>=(new Date(e.getFullYear(),e.getMonth(),e.getDate())).getTime();case "month":case "months":return(new Date(this.getFullYear(),this.getMonth(),1)).getTime()>=(new Date(e.getFullYear(),e.getMonth(),1)).getTime()}throw Error("isSameOrAfter: Invalid unit!");},h.prototype.isSame=
function(e,k){switch(void 0===k&&(k="seconds"),k){case "second":case "seconds":return this.getTime()===e.getTime();case "day":case "days":return(new Date(this.getFullYear(),this.getMonth(),this.getDate())).getTime()===(new Date(e.getFullYear(),e.getMonth(),e.getDate())).getTime();case "month":case "months":return(new Date(this.getFullYear(),this.getMonth(),1)).getTime()===(new Date(e.getFullYear(),e.getMonth(),1)).getTime()}throw Error("isSame: Invalid unit!");},h.prototype.add=function(e,k){switch(void 0===
k&&(k="seconds"),k){case "second":case "seconds":this.setSeconds(this.getSeconds()+e);break;case "day":case "days":this.setDate(this.getDate()+e);break;case "month":case "months":this.setMonth(this.getMonth()+e)}return this},h.prototype.subtract=function(e,k){switch(void 0===k&&(k="seconds"),k){case "second":case "seconds":this.setSeconds(this.getSeconds()-e);break;case "day":case "days":this.setDate(this.getDate()-e);break;case "month":case "months":this.setMonth(this.getMonth()-e)}return this},
h.prototype.diff=function(e,k){void 0===k&&(k="seconds");switch(k){default:case "second":case "seconds":return this.getTime()-e.getTime();case "day":case "days":return Math.round((this.timestamp()-e.getTime())/864E5);case "month":case "months":}},h.prototype.format=function(e,k){void 0===k&&(k="en-US");for(var m="",z=[],w;null!=(w=h.regex.exec(e));)"\\"!==w[1]&&z.push(w);if(z.length){0<z[0].index&&(m+=e.substring(0,z[0].index));w=0;for(var a=Object.entries(z);w<a.length;w++){var f=a[w],n=f[1];f=Number(f[0]);
m+=this.formatTokens(n[0],k);z[f+1]&&(m+=e.substring(n.index+n[0].length,z[f+1].index));f===z.length-1&&(m+=e.substring(n.index+n[0].length))}}return m.replace(/\\/g,"")},h.prototype.timestamp=function(){return(new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0,0)).getTime()},h.prototype.formatTokens=function(e,k){switch(e){case "YY":return String(this.getFullYear()).slice(-2);case "YYYY":return String(this.getFullYear());case "M":return String(this.getMonth()+1);case "MM":return("0"+
(this.getMonth()+1)).slice(-2);case "MMM":return h.shortMonths(k)[this.getMonth()];case "MMMM":return h.longMonths(k)[this.getMonth()];case "D":return String(this.getDate());case "DD":return("0"+this.getDate()).slice(-2);default:return""}},h.regex=/(\\)?(Y{2,4}|M{1,4}|D{1,2}|d{1,4})/g,h.MONTH_JS=[0,1,2,3,4,5,6,7,8,9,10,11],h}();l.DateTime=g},function(g,l,t){l=t(6);t=t(7);"string"==typeof(t=t.__esModule?t.default:t)&&(t=[[g.i,t,""]]);l(t,{insert:function(h){var e=document.querySelector("head"),k=window._lastElementInsertedByStyleLoader;
window.disableLitepickerStyles||(k?k.nextSibling?e.insertBefore(h,k.nextSibling):e.appendChild(h):e.insertBefore(h,e.firstChild),window._lastElementInsertedByStyleLoader=h)},singleton:!1});g.exports=t.locals||{}},function(g,l,t){function h(){return window.matchMedia("(orientation: portrait)").matches?"portrait":"landscape"}Object.defineProperty(l,"__esModule",{value:!0});l.findNestedMonthItem=l.getOrientation=l.isMobile=void 0;l.isMobile=function(){var e="portrait"===h();return window.matchMedia("(max-device-"+
(e?"width":"height")+": 480px)").matches};l.getOrientation=h;l.findNestedMonthItem=function(e){for(var k=e.parentNode.childNodes,m=0;m<k.length;m+=1)if(k.item(m)===e)return m;return 0}},function(g,l,t){var h,e=this&&this.__extends||(h=function(u,p){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var c in b)b.hasOwnProperty(c)&&(d[c]=b[c])})(u,p)},function(u,p){function d(){this.constructor=u}h(u,p);u.prototype=null===p?Object.create(p):
(d.prototype=p.prototype,new d)}),k=this&&this.__assign||function(){return(k=Object.assign||function(u){for(var p,d=1,b=arguments.length;d<b;d++)for(var c in p=arguments[d])Object.prototype.hasOwnProperty.call(p,c)&&(u[c]=p[c]);return u}).apply(this,arguments)},m=this&&this.__createBinding||(Object.create?function(u,p,d,b){void 0===b&&(b=d);Object.defineProperty(u,b,{enumerable:!0,get:function(){return p[d]}})}:function(u,p,d,b){void 0===b&&(b=d);u[b]=p[d]}),z=this&&this.__setModuleDefault||(Object.create?
function(u,p){Object.defineProperty(u,"default",{enumerable:!0,value:p})}:function(u,p){u.default=p});g=this&&this.__importStar||function(u){if(u&&u.__esModule)return u;var p={};if(null!=u)for(var d in u)"default"!==d&&Object.hasOwnProperty.call(u,d)&&m(p,u,d);return z(p,u),p};Object.defineProperty(l,"__esModule",{value:!0});l.Litepicker=void 0;var w=t(5),a=t(0),f=g(t(1)),n=t(2);t=function(u){function p(d){var b=u.call(this)||this;b.options=k(k({},b.options),d.element.dataset);Object.keys(b.options).forEach(function(x){"true"!==
b.options[x]&&"false"!==b.options[x]||(b.options[x]="true"===b.options[x])});var c=k(k({},b.options.dropdowns),d.dropdowns),r=k(k({},b.options.buttonText),d.buttonText),q=k(k({},b.options.tooltipText),d.tooltipText);b.options=k(k({},b.options),d);b.options.dropdowns=k({},c);b.options.buttonText=k({},r);b.options.tooltipText=k({},q);b.options.elementEnd||(b.options.allowRepick=!1);b.options.lockDays.length&&(b.options.lockDays=a.DateTime.convertArray(b.options.lockDays,b.options.lockDaysFormat));b.options.holidays.length&&
(b.options.holidays=a.DateTime.convertArray(b.options.holidays,b.options.holidaysFormat));b.options.bookedDays.length&&(b.options.bookedDays=a.DateTime.convertArray(b.options.bookedDays,b.options.bookedDaysFormat));b.options.partiallyBookedDays.length&&(b.options.partiallyBookedDays=a.DateTime.convertArray(b.options.partiallyBookedDays,b.options.partiallyBookedDaysFormat));b.options.highlightedDays.length&&(b.options.highlightedDays=a.DateTime.convertArray(b.options.highlightedDays,b.options.highlightedDaysFormat));
!b.options.hotelMode||"bookedDaysInclusivity"in d||(b.options.bookedDaysInclusivity="[)");!b.options.hotelMode||"partiallyBookedDaysInclusivity"in d||(b.options.partiallyBookedDaysInclusivity="[)");!b.options.hotelMode||"disallowBookedDaysInRange"in d||(b.options.disallowBookedDaysInRange=!0);!b.options.hotelMode||"selectForward"in d||(b.options.selectForward=!0);c=b.parseInput();d=c[0];c=c[1];b.options.startDate&&(b.options.singleMode||b.options.endDate)&&(d=new a.DateTime(b.options.startDate,b.options.format,
b.options.lang));d&&b.options.endDate&&(c=new a.DateTime(b.options.endDate,b.options.format,b.options.lang));d instanceof a.DateTime&&!isNaN(d.getTime())&&(b.options.startDate=d);b.options.startDate&&c instanceof a.DateTime&&!isNaN(c.getTime())&&(b.options.endDate=c);!b.options.singleMode||b.options.startDate instanceof a.DateTime||(b.options.startDate=null);b.options.singleMode||b.options.startDate instanceof a.DateTime&&b.options.endDate instanceof a.DateTime||(b.options.startDate=new a.DateTime(b.options.startDate,
b.options.format,b.options.lang),b.options.endDate=null);for(d=0;d<b.options.numberOfMonths;d+=1)c=b.options.startDate instanceof a.DateTime?b.options.startDate.clone():new a.DateTime,c.setDate(1),c.setMonth(c.getMonth()+d),b.calendars[d]=c;if(b.options.showTooltip)if(b.options.tooltipPluralSelector)b.pluralSelector=b.options.tooltipPluralSelector;else try{var v=new Intl.PluralRules(b.options.lang);b.pluralSelector=v.select.bind(v)}catch(x){b.pluralSelector=function(A){return 0===Math.abs(A)?"one":
"other"}}return b.loadPolyfillsForIE11(),b.onInit(),b}return e(p,u),p.prototype.scrollToDate=function(d){if(this.options.scrollToDate){var b=this.options.startDate instanceof a.DateTime?this.options.startDate.clone():null;!this.options.startDate||d&&d!==this.options.element||(b.setDate(1),this.calendars[0]=b.clone(),this.options.scrollToDate=!1,this.options.onChangeMonth.call(this,this.calendars[0],0))}},p.prototype.onInit=function(){var d=this;if(document.addEventListener("click",function(b){return d.onClick(b)},
!0),this.picker=document.createElement("div"),this.picker.className=f.litepicker,this.picker.style.display="none",this.picker.addEventListener("mouseenter",function(b){return d.onMouseEnter(b)},!0),this.picker.addEventListener("mouseleave",function(b){return d.onMouseLeave(b)},!1),this.options.autoRefresh?(this.options.element instanceof HTMLElement&&this.options.element.addEventListener("keyup",function(b){return d.onInput(b)},!0),this.options.elementEnd instanceof HTMLElement&&this.options.elementEnd.addEventListener("keyup",
function(b){return d.onInput(b)},!0)):(this.options.element instanceof HTMLElement&&this.options.element.addEventListener("change",function(b){return d.onInput(b)},!0),this.options.elementEnd instanceof HTMLElement&&this.options.elementEnd.addEventListener("change",function(b){return d.onInput(b)},!0)),this.options.moduleNavKeyboard){if("function"!=typeof this.enableModuleNavKeyboard)throw Error("moduleNavKeyboard is on but library does not included. See https://github.com/wakirin/litepicker-module-navkeyboard.");
this.enableModuleNavKeyboard.call(this,this)}this.render();this.options.parentEl?this.options.parentEl instanceof HTMLElement?this.options.parentEl.appendChild(this.picker):document.querySelector(this.options.parentEl).appendChild(this.picker):this.options.inlineMode?this.options.element instanceof HTMLInputElement?this.options.element.parentNode.appendChild(this.picker):this.options.element.appendChild(this.picker):document.body.appendChild(this.picker);this.options.mobileFriendly&&(this.backdrop=
document.createElement("div"),this.backdrop.className=f.litepickerBackdrop,this.backdrop.addEventListener("click",this.hide()),this.options.element&&this.options.element.parentNode&&this.options.element.parentNode.appendChild(this.backdrop),window.addEventListener("orientationchange",function(b){var c=function(){if(n.isMobile()&&d.isShowning()){switch(n.getOrientation()){case "landscape":d.options.numberOfMonths=2;d.options.numberOfColumns=2;break;default:d.options.numberOfMonths=2,d.options.numberOfColumns=
1}if(d.render(),!d.options.inlineMode){var r=d.picker.getBoundingClientRect();d.picker.style.top="calc(50% - "+r.height/2+"px)";d.picker.style.left="calc(50% - "+r.width/2+"px)"}}window.removeEventListener("resize",c)};window.addEventListener("resize",c)}));this.options.inlineMode&&(this.show(),this.options.mobileFriendly&&n.isMobile()&&(window.dispatchEvent(new Event("orientationchange")),window.dispatchEvent(new Event("resize"))));this.updateInput()},p.prototype.parseInput=function(){var d=this.options.delimiter,
b=new RegExp(""+d),c=this.options.element instanceof HTMLInputElement?this.options.element.value.split(d):[];if(this.options.elementEnd){if(this.options.element instanceof HTMLInputElement&&this.options.element.value.length&&this.options.elementEnd instanceof HTMLInputElement&&this.options.elementEnd.value.length)return[new a.DateTime(this.options.element.value,this.options.format),new a.DateTime(this.options.elementEnd.value,this.options.format)]}else if(this.options.singleMode){if(this.options.element instanceof
HTMLInputElement&&this.options.element.value.length)return[new a.DateTime(this.options.element.value,this.options.format)]}else if(this.options.element instanceof HTMLInputElement&&b.test(this.options.element.value)&&c.length&&0==c.length%2)return b=c.slice(0,c.length/2).join(d),d=c.slice(c.length/2).join(d),[new a.DateTime(b,this.options.format),new a.DateTime(d,this.options.format)];return[]},p.prototype.updateInput=function(){if(this.options.element instanceof HTMLInputElement){if(this.options.singleMode&&
this.options.startDate)this.options.element.value=this.options.startDate.format(this.options.format,this.options.lang);else if(!this.options.singleMode&&this.options.startDate&&this.options.endDate){var d=this.options.startDate.format(this.options.format,this.options.lang),b=this.options.endDate.format(this.options.format,this.options.lang);this.options.elementEnd?(this.options.element.value=d,this.options.elementEnd.value=b):this.options.element.value=""+d+this.options.delimiter+b}this.options.startDate||
this.options.endDate||(this.options.element.value="",this.options.elementEnd&&(this.options.elementEnd.value=""))}},p.prototype.isSamePicker=function(d){return d.closest("."+f.litepicker)===this.picker},p.prototype.shouldShown=function(d){return d===this.options.element||this.options.elementEnd&&d===this.options.elementEnd},p.prototype.shouldResetDatePicked=function(){return this.options.singleMode||2===this.datePicked.length},p.prototype.shouldSwapDatePicked=function(){return 2===this.datePicked.length&&
this.datePicked[0].getTime()>this.datePicked[1].getTime()},p.prototype.shouldCheckLockDays=function(){return this.options.disallowLockDaysInRange&&this.options.lockDays.length&&2===this.datePicked.length},p.prototype.shouldCheckPartiallyBookedDays=function(){return this.options.disallowPartiallyBookedDaysInRange&&this.options.partiallyBookedDays.length&&2===this.datePicked.length},p.prototype.shouldCheckHolidays=function(){return this.options.disallowHolidaysInRange&&this.options.holidays.length&&
2===this.datePicked.length},p.prototype.shouldCheckBookedDays=function(){return this.options.disallowBookedDaysInRange&&this.options.bookedDays.length&&2===this.datePicked.length},p.prototype.onClick=function(d){var b=this,c=d.target;if(c&&this.picker)if(this.shouldShown(c))this.show(c);else if(c.closest("."+f.litepicker),c.classList.contains(f.dayItem)){if((d.preventDefault(),this.isSamePicker(c))&&!c.classList.contains(f.isLocked)&&!c.classList.contains(f.isHoliday)&&!c.classList.contains(f.isBooked)){if(this.shouldResetDatePicked()&&
(this.datePicked.length=0),this.datePicked[this.datePicked.length]=new a.DateTime(c.dataset.time),this.shouldSwapDatePicked())d=this.datePicked[1].clone(),this.datePicked[1]=this.datePicked[0].clone(),this.datePicked[0]=d.clone();if(this.shouldCheckLockDays()){var r=this.options.lockDaysInclusivity;this.options.lockDays.filter(function(y){return y instanceof Array?y[0].isBetween(b.datePicked[0],b.datePicked[1],r)||y[1].isBetween(b.datePicked[0],b.datePicked[1],r):y.isBetween(b.datePicked[0],b.datePicked[1],
r)}).length&&(this.datePicked.length=0,"function"==typeof this.options.onError&&this.options.onError.call(this,"INVALID_RANGE"))}if(this.shouldCheckHolidays()){var q=this.options.holidaysInclusivity;this.options.holidays.filter(function(y){return y instanceof Array?y[0].isBetween(b.datePicked[0],b.datePicked[1],q)||y[1].isBetween(b.datePicked[0],b.datePicked[1],q):y.isBetween(b.datePicked[0],b.datePicked[1],q)}).length&&(this.datePicked.length=0,"function"==typeof this.options.onError&&this.options.onError.call(this,
"INVALID_RANGE"))}if(this.shouldCheckPartiallyBookedDays()){var v=this.options.partiallyBookedDaysInclusivity;(x=this.options.partiallyBookedDays.filter(function(y){return y instanceof Array?y[0].isBetween(b.datePicked[0],b.datePicked[1],v)||y[1].isBetween(b.datePicked[0],b.datePicked[1],v):y.isBetween(b.datePicked[0],b.datePicked[1])}).length)||this.datePicked[0].getDate()===this.datePicked[1].getDate()||(x=this.datePicked[0].format(this.options.bookedDaysFormat),d=this.datePicked[1].format(this.options.bookedDaysFormat),
x=this.options.days[x],x=this.options.days[d].firstSlotBooked||x.lastSlotBooked);d=this.options.anyBookedDaysAsCheckout&&1===this.datePicked.length;x&&!d&&(this.datePicked.length=0,"function"==typeof this.options.onError&&this.options.onError.call(this,"INVALID_RANGE"))}if(this.shouldCheckBookedDays()){var x,A=this.options.bookedDaysInclusivity;(x=this.options.bookedDays.filter(function(y){return y instanceof Array?y[0].isBetween(b.datePicked[0],b.datePicked[1],A)||y[1].isBetween(b.datePicked[0],
b.datePicked[1],A):y.isBetween(b.datePicked[0],b.datePicked[1],A)}).length)&&(this.datePicked.length=0,"function"==typeof this.options.onError&&this.options.onError.call(this,"INVALID_RANGE"))}if("function"==typeof this.options.onDaySelect&&this.options.onDaySelect.call(this,a.DateTime.parseDateTime(c.dataset.time),this.datePicked.length),this.render(),this.options.autoApply)c=!1,this.options.singleMode&&this.datePicked.length?(this.setDate(this.datePicked[0]),this.hide(),c=!0):this.options.singleMode||
2!==this.datePicked.length||(this.setDateRange(this.datePicked[0],this.datePicked[1]),this.hide(),c=!0),"function"==typeof this.options.onAutoApply&&this.options.onAutoApply.call(this,c)}}else{if(c.classList.contains(f.buttonPreviousMonth)){if(d.preventDefault(),!this.isSamePicker(c))return;d=0;x=this.options.moveByOneMonth?1:this.options.numberOfMonths;this.options.splitView&&(c=c.closest("."+f.monthItem),d=n.findNestedMonthItem(c),x=1);return this.calendars[d].setMonth(this.calendars[d].getMonth()-
x),this.gotoDate(this.calendars[d],d),void("function"==typeof this.options.onChangeMonth&&this.options.onChangeMonth.call(this,this.calendars[d],d))}if(c.classList.contains(f.buttonNextMonth)){if(d.preventDefault(),!this.isSamePicker(c))return;d=0;x=this.options.moveByOneMonth?1:this.options.numberOfMonths;this.options.splitView&&(c=c.closest("."+f.monthItem),d=n.findNestedMonthItem(c),x=1);return this.calendars[d].setMonth(this.calendars[d].getMonth()+x),this.gotoDate(this.calendars[d],d),void("function"==
typeof this.options.onChangeMonth&&this.options.onChangeMonth.call(this,this.calendars[d],d))}if(c.classList.contains(f.buttonCancel)){if(d.preventDefault(),!this.isSamePicker(c))return;this.hide()}c.classList.contains(f.buttonApply)&&(d.preventDefault(),this.isSamePicker(c))&&(this.options.singleMode&&this.datePicked.length?this.setDate(this.datePicked[0]):this.options.singleMode||2!==this.datePicked.length||this.setDateRange(this.datePicked[0],this.datePicked[1]),this.hide())}},p.prototype.showTooltip=
function(d,b){var c=this.picker.querySelector("."+f.containerTooltip);c.style.visibility="visible";c.innerHTML=b;var r=this.picker.getBoundingClientRect();b=c.getBoundingClientRect();var q=d.getBoundingClientRect(),v=q.top,x=q.left;this.options.inlineMode&&this.options.parentEl?(r=this.picker.parentNode.getBoundingClientRect(),v-=r.top,x-=r.left):(v-=r.top,x-=r.left);v-=b.height;x-=b.width/2;x+=q.width/2;c.style.top=v+"px";c.style.left=x+"px";"function"==typeof this.options.onShowTooltip&&this.options.onShowTooltip.call(this,
c,d)},p.prototype.hideTooltip=function(){this.picker.querySelector("."+f.containerTooltip).style.visibility="hidden"},p.prototype.shouldAllowMouseEnter=function(d){return!(this.options.singleMode||d.classList.contains(f.isLocked)||d.classList.contains(f.isHoliday)||d.classList.contains(f.isBooked))},p.prototype.shouldAllowRepick=function(){return this.options.elementEnd&&this.options.allowRepick&&this.options.startDate&&this.options.endDate},p.prototype.isDayItem=function(d){return d.classList.contains(f.dayItem)},
p.prototype.onMouseEnter=function(d){var b=this;d=d.target;if(this.isDayItem(d)&&("function"==typeof this.options.onDayHover&&this.options.onDayHover.call(this,a.DateTime.parseDateTime(d.dataset.time),d.classList.toString().split(/\s/),d),this.shouldAllowMouseEnter(d))&&(this.shouldAllowRepick()&&(this.triggerElement===this.options.element?this.datePicked[0]=this.options.endDate.clone():this.triggerElement===this.options.elementEnd&&(this.datePicked[0]=this.options.startDate.clone())),1===this.datePicked.length)){var c=
this.picker.querySelector("."+f.dayItem+'[data-time="'+this.datePicked[0].getTime()+'"]'),r=this.datePicked[0].clone(),q=new a.DateTime(d.dataset.time),v=!1;r.getTime()>q.getTime()&&(v=r.clone(),r=q.clone(),q=v.clone(),v=!0);if(Array.prototype.slice.call(this.picker.querySelectorAll("."+f.dayItem)).forEach(function(x){var A=new a.DateTime(x.dataset.time),y=b.renderDay(A);A.isBetween(r,q)&&(A=b.options.days[A.format(b.options.bookedDaysFormat)],A.bookedDay?y.classList.add(f.isBooked):A.partiallyBookedDay&&
(A.firstSlotBooked&&y.classList.add(f.isPartiallyBookedStart),A.lastSlotBooked&&y.classList.add(f.isPartiallyBookedEnd)),y.classList.add(f.isInRange));x.className=y.className}),d.classList.add(f.isEndDate),v?(c&&c.classList.add(f.isFlipped),d.classList.add(f.isFlipped)):(c&&c.classList.remove(f.isFlipped),d.classList.remove(f.isFlipped)),this.options.showTooltip)c=q.diff(r,"day"),(this.options.hotelMode||(c+=1),0<c)?(v=this.pluralSelector(c),this.showTooltip(d,c+" "+(this.options.tooltipText[v]?this.options.tooltipText[v]:
"["+v+"]"))):this.hideTooltip()}},p.prototype.onMouseLeave=function(d){d.target;this.options.allowRepick&&(!this.options.allowRepick||this.options.startDate||this.options.endDate)&&(this.datePicked.length=0,this.render())},p.prototype.onInput=function(d){var b=this.parseInput(),c=b[0];b=b[1];var r=this.options.format;if(this.options.elementEnd?c instanceof a.DateTime&&b instanceof a.DateTime&&c.format(r)===this.options.element.value&&b.format(r)===this.options.elementEnd.value:this.options.singleMode?
c instanceof a.DateTime&&c.format(r)===this.options.element.value:c instanceof a.DateTime&&b instanceof a.DateTime&&""+c.format(r)+this.options.delimiter+b.format(r)===this.options.element.value){if(b&&c.getTime()>b.getTime()){var q=c.clone();c=b.clone();b=q.clone()}this.options.startDate=new a.DateTime(c,this.options.format,this.options.lang);b&&(this.options.endDate=new a.DateTime(b,this.options.format,this.options.lang));this.updateInput();this.render();q=c.clone();var v=0;(this.options.elementEnd?
c.format(r)===d.target.value:d.target.value.startsWith(c.format(r)))||(q=b.clone(),v=this.options.numberOfMonths-1);"function"==typeof this.options.onSelect&&this.options.onSelect.call(this,this.getStartDate(),this.getEndDate());this.gotoDate(q,v)}},p.prototype.isShowning=function(){return this.picker&&"none"!==this.picker.style.display},p.prototype.loadPolyfillsForIE11=function(){Object.entries||(Object.entries=function(d){for(var b=Object.keys(d),c=b.length,r=Array(c);c;)r[--c]=[b[c],d[b[c]]];return r});
Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.closest||(Element.prototype.closest=function(d){var b=this;do{if(b.matches(d))return b;b=b.parentElement||b.parentNode}while(null!==b&&1===b.nodeType);return null})},p}(w.Calendar);l.Litepicker=t},function(g,l,t){Object.defineProperty(l,"__esModule",{value:!0});l.Litepicker=void 0;var h=t(3);Object.defineProperty(l,"Litepicker",{enumerable:!0,get:function(){return h.Litepicker}});
t(9);t(10);window.Litepicker=h.Litepicker;l.default=h.Litepicker},function(g,l,t){var h=this&&this.__createBinding||(Object.create?function(w,a,f,n){void 0===n&&(n=f);Object.defineProperty(w,n,{enumerable:!0,get:function(){return a[f]}})}:function(w,a,f,n){void 0===n&&(n=f);w[n]=a[f]}),e=this&&this.__setModuleDefault||(Object.create?function(w,a){Object.defineProperty(w,"default",{enumerable:!0,value:a})}:function(w,a){w.default=a});g=this&&this.__importStar||function(w){if(w&&w.__esModule)return w;
var a={};if(null!=w)for(var f in w)"default"!==f&&Object.hasOwnProperty.call(w,f)&&h(a,w,f);return e(a,w),a};Object.defineProperty(l,"__esModule",{value:!0});l.Calendar=void 0;var k=t(0),m=g(t(1)),z=t(2);t=function(){function w(){this.options={element:null,elementEnd:null,parentEl:null,firstDay:1,format:"YYYY-MM-DD",lang:"en-US",delimiter:" - ",numberOfMonths:1,numberOfColumns:1,startDate:null,endDate:null,zIndex:9999,minDate:null,maxDate:null,minDays:null,maxDays:null,selectForward:!1,selectBackward:!1,
splitView:!1,inlineMode:!1,singleMode:!0,autoApply:!0,allowRepick:!1,showWeekNumbers:!1,showTooltip:!0,hotelMode:!1,disableWeekends:!1,scrollToDate:!0,mobileFriendly:!0,useResetBtn:!1,autoRefresh:!1,moveByOneMonth:!1,days:[],lockDaysFormat:"YYYY-MM-DD",lockDays:[],disallowLockDaysInRange:!0,lockDaysInclusivity:"[]",countLockedDays:!1,holidaysFormat:"YYYY-MM-DD",holidays:[],disallowHolidaysInRange:!1,holidaysInclusivity:"[]",partiallyBookedDaysFormat:"YYYY-MM-DD",partiallyBookedDays:[],disallowPartiallyBookedDaysInRange:!0,
partiallyBookedDaysInclusivity:"[]",anyPartiallyBookedDaysAsCheckout:!1,bookedDaysFormat:"YYYY-MM-DD",bookedDays:[],disallowBookedDaysInRange:!0,bookedDaysInclusivity:"[]",anyBookedDaysAsCheckout:!1,highlightedDaysFormat:"YYYY-MM-DD",highlightedDays:[],dropdowns:{minYear:1990,maxYear:null,months:!1,years:!1},buttonText:{apply:"Apply",cancel:"Cancel",nextMonth:'<svg width="11" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M2.748 16L0 13.333 5.333 8 0 2.667 2.748 0l7.919 8z" fill-rule="nonzero"/></svg>',
previousMonth:'<svg width="11" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M7.919 0l2.748 2.667L5.333 8l5.334 5.333L7.919 16 0 8z" fill-rule="nonzero"/></svg>',reset:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M0 0h24v24H0z" fill="none"/>\n        <path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/>\n      </svg>'},
tooltipText:{one:"day",other:"days"},tooltipPluralSelector:null,onShow:null,onHide:null,onSelect:null,onError:null,onRender:null,onRenderDay:null,onAutoApply:null,onChangeMonth:null,onChangeYear:null,onDayHover:null,onDaySelect:null,onShowTooltip:null,resetBtnCallback:null,moduleRanges:null,moduleNavKeyboard:null,onClickCalled:!1};this.calendars=[];this.datePicked=[]}return w.prototype.render=function(){var a=this,f=document.createElement("div");f.className=m.containerMain;var n=document.createElement("div");
n.className=m.containerMonths;m["columns"+this.options.numberOfColumns]&&(n.classList.remove(m.columns2,m.columns3,m.columns4),n.classList.add(m["columns"+this.options.numberOfColumns]));this.options.splitView&&n.classList.add(m.splitView);this.options.showWeekNumbers&&n.classList.add(m.showWeekNumbers);for(var u=this.calendars[0].clone(),p=u.getMonth(),d=u.getMonth()+this.options.numberOfMonths,b=0;p<d;p+=1){var c=u.clone();c.setDate(1);this.options.splitView?c=this.calendars[b].clone():c.setMonth(p);
n.appendChild(this.renderMonth(c));b+=1}if(this.picker.innerHTML="",f.appendChild(n),this.options.useResetBtn)n=document.createElement("a"),n.href="#",n.className=m.resetButton,n.innerHTML=this.options.buttonText.reset,n.addEventListener("click",function(r){r.preventDefault();a.clearSelection();"function"==typeof a.options.resetBtnCallback&&a.options.resetBtnCallback.call(a)}),f.querySelector("."+m.monthItem+":last-child").querySelector("."+m.monthItemHeader).appendChild(n);if(this.picker.appendChild(f),
this.options.autoApply&&!this.options.footerHTML||this.picker.appendChild(this.renderFooter()),this.options.showTooltip&&this.picker.appendChild(this.renderTooltip()),this.options.moduleRanges){if("function"!=typeof this.enableModuleRanges)throw Error("moduleRanges is on but library does not included. See https://github.com/wakirin/litepicker-module-ranges.");this.enableModuleRanges.call(this,this)}"function"==typeof this.options.onRender&&this.options.onRender.call(this,this.picker)},w.prototype.renderMonth=
function(a){var f=this,n=a.clone(),u=32-(new Date(n.getFullYear(),n.getMonth(),32)).getDate(),p=document.createElement("div");p.className=m.monthItem;var d=document.createElement("div");d.className=m.monthItemHeader;var b=document.createElement("div");if(this.options.dropdowns.months){var c=document.createElement("select");c.className=m.monthItemName;for(var r=0;12>r;r+=1){var q=document.createElement("option"),v=new k.DateTime(new Date(a.getFullYear(),r,1,0,0,0));q.value=String(r);q.text=v.toLocaleString(this.options.lang,
{month:"long"});q.disabled=this.options.minDate&&v.isBefore(new k.DateTime(this.options.minDate),"month")||this.options.maxDate&&v.isAfter(new k.DateTime(this.options.maxDate),"month");q.selected=v.getMonth()===a.getMonth();c.appendChild(q)}c.addEventListener("change",function(A){A=A.target;var y=0;f.options.splitView&&(y=A.closest("."+m.monthItem),y=z.findNestedMonthItem(y));f.calendars[y].setMonth(Number(A.value));f.render();"function"==typeof f.options.onChangeMonth&&f.options.onChangeMonth.call(f,
f.calendars[y],y)});b.appendChild(c)}else q=document.createElement("strong"),q.className=m.monthItemName,q.innerHTML=a.toLocaleString(this.options.lang,{month:"long"}),b.appendChild(q);if(this.options.dropdowns.years){var x=document.createElement("select");x.className=m.monthItemYear;c=this.options.dropdowns.minYear;r=this.options.dropdowns.maxYear?this.options.dropdowns.maxYear:(new Date).getFullYear();a.getFullYear()>r&&((q=document.createElement("option")).value=String(a.getFullYear()),q.text=
String(a.getFullYear()),q.selected=!0,q.disabled=!0,x.appendChild(q));for(;r>=c;--r)q=document.createElement("option"),v=new k.DateTime(new Date(r,0,1,0,0,0)),q.value=r,q.text=r,q.disabled=this.options.minDate&&v.isBefore(new k.DateTime(this.options.minDate),"year")||this.options.maxDate&&v.isAfter(new k.DateTime(this.options.maxDate),"year"),q.selected=a.getFullYear()===r,x.appendChild(q);a.getFullYear()<c&&((q=document.createElement("option")).value=String(a.getFullYear()),q.text=String(a.getFullYear()),
q.selected=!0,q.disabled=!0,x.appendChild(q));"asc"===this.options.dropdowns.years&&(a=Array.prototype.slice.call(x.childNodes).reverse(),x.innerHTML="",a.forEach(function(A){A.innerHTML=A.value;x.appendChild(A)}));x.addEventListener("change",function(A){A=A.target;var y=0;f.options.splitView&&(y=A.closest("."+m.monthItem),y=z.findNestedMonthItem(y));f.calendars[y].setFullYear(Number(A.value));f.render();"function"==typeof f.options.onChangeYear&&f.options.onChangeYear.call(f,f.calendars[y],y)});
b.appendChild(x)}else q=document.createElement("span"),q.className=m.monthItemYear,q.innerHTML=String(a.getFullYear()),b.appendChild(q);a=document.createElement("a");a.href="#";a.className=m.buttonPreviousMonth;a.innerHTML=this.options.buttonText.previousMonth;q=document.createElement("a");q.href="#";q.className=m.buttonNextMonth;q.innerHTML=this.options.buttonText.nextMonth;d.appendChild(a);d.appendChild(b);d.appendChild(q);this.options.minDate&&n.isSameOrBefore(new k.DateTime(this.options.minDate),
"month")&&p.classList.add(m.noPreviousMonth);this.options.maxDate&&n.isSameOrAfter(new k.DateTime(this.options.maxDate),"month")&&p.classList.add(m.noNextMonth);b=document.createElement("div");b.className=m.monthItemWeekdaysRow;this.options.showWeekNumbers&&(b.innerHTML="<div>W</div>");for(a=1;7>=a;a+=1)q=3+this.options.firstDay+a,r=document.createElement("div"),r.innerHTML=this.weekdayName(q),r.title=this.weekdayName(q,"long"),b.appendChild(r);a=document.createElement("div");a.className=m.containerDays;
q=this.calcSkipDays(n);this.options.showWeekNumbers&&q&&a.appendChild(this.renderWeekNumber(n));for(r=0;r<q;r+=1)c=document.createElement("div"),a.appendChild(c);for(r=1;r<=u;r+=1)n.setDate(r),this.options.showWeekNumbers&&n.getDay()===this.options.firstDay&&a.appendChild(this.renderWeekNumber(n)),a.appendChild(this.renderDay(n));return p.appendChild(d),p.appendChild(b),p.appendChild(a),p},w.prototype.renderDay=function(a){var f=this;a.setHours();var n=document.createElement("a");if(n.href="#",n.className=
m.dayItem,n.innerHTML=String(a.getDate()),n.dataset.time=String(a.getTime()),a.toDateString()===(new Date).toDateString()&&n.classList.add(m.isToday),this.datePicked.length)2===this.datePicked.length&&(this.bookedDayAfterSelection=null),Number.isInteger(this.bookedDayAfterSelection)&&this.bookedDayAfterSelection<a.getTime()&&1===this.datePicked.length&&n.classList.add(m.isLocked),this.datePicked[0].toDateString()===a.toDateString()&&(n.classList.add(m.isStartDate),this.options.singleMode&&n.classList.add(m.isEndDate)),
2===this.datePicked.length&&this.datePicked[1].toDateString()===a.toDateString()&&n.classList.add(m.isEndDate),2===this.datePicked.length&&a.isBetween(this.datePicked[0],this.datePicked[1])&&n.classList.add(m.isInRange);else if(this.options.startDate){var u=0<document.getElementsByClassName("is-end-date").length;this.options.startDate.toDateString()===a.toDateString()&&u&&(n.classList.add(m.isStartDate),this.options.singleMode&&n.classList.add(m.isEndDate));this.options.endDate&&this.options.endDate.toDateString()===
a.toDateString()&&n.classList.add(m.isEndDate);this.options.startDate&&this.options.endDate&&a.isBetween(this.options.startDate,this.options.endDate)&&n.classList.add(m.isInRange)}if(this.options.minDate&&a.isBefore(new k.DateTime(this.options.minDate))&&n.classList.add(m.isLocked),this.options.maxDate&&a.isAfter(new k.DateTime(this.options.maxDate))&&n.classList.add(m.isLocked),this.options.minDays&&1===this.datePicked.length){var p=Number(!this.options.hotelMode);u=this.datePicked[0].clone().subtract(this.options.minDays-
p,"day");p=this.datePicked[0].clone().add(this.options.minDays-p,"day");a.isBetween(u,this.datePicked[0],"(]")&&n.classList.add(m.isLocked);a.isBetween(this.datePicked[0],p,"[)")&&n.classList.add(m.isLocked)}if(this.options.maxDays&&1===this.datePicked.length){p=Number(this.options.hotelMode);u=this.datePicked[0].clone().subtract(this.options.maxDays+p,"day");var d=0;if(!this.options.countLockedDays&&!this.options.disallowLockDaysInRange){for(var b=this.datePicked[0].clone(),c=this.options.maxDays,
r=[],q=0,v=[this.options.lockDays];q<v.length;q++)for(var x=0,A=v[q];x<A.length;x++){var y=A[x];this.datePicked[0].getTime()<y.getTime()&&r.push(y)}for(;0<c;)for(--c,b=b.add(1,"day"),q=0,v=r;q<v.length;q++)(y=v[q]).getTime()===b.getTime()&&(this.dateIsBooked(b,this.options.bookedDaysInclusivity)||this.dateIsPartiallyBooked(b,this.options.partiallyBookedDaysInclusivity)||(d+=1,c+=1))}p=this.datePicked[0].clone().add(this.options.maxDays+d+p,"day");a.isSameOrBefore(u)&&n.classList.add(m.isLocked);a.isSameOrAfter(p)&&
n.classList.add(m.isLocked)}(this.options.selectForward&&1===this.datePicked.length&&a.isBefore(this.datePicked[0])&&n.classList.add(m.isLocked),this.options.selectBackward&&1===this.datePicked.length&&a.isAfter(this.datePicked[0])&&n.classList.add(m.isLocked),this.options.lockDays.length)&&this.options.lockDays.filter(function(B){return B instanceof Array?a.isBetween(B[0],B[1],f.options.lockDaysInclusivity):B.isSame(a,"day")}).length&&n.classList.add(m.isLocked);this.options.bookedDays.length&&(u=
this.options.bookedDays.filter(function(B){return B instanceof Array?a.isBetween(B[0],B[1],f.options.bookedDaysInclusivity):B.isSame(a,"day")}).length)&&(n.classList.add(m.isBooked),0<this.datePicked.length&&!this.bookedDayAfterSelection&&this.datePicked[0].getTime()<a.getTime()&&(this.bookedDayAfterSelection=a.getTime()));this.options.partiallyBookedDays.length&&(u=this.options.partiallyBookedDays.filter(function(B){return B instanceof Array?a.isBetween(B[0],B[1],f.options.partiallyBookedDaysInclusivity):
B.isSame(a,"day")}).length)&&(!1===(C=this.options.days[a.format(this.options.format)]).firstSlotBooked&&n.classList.add(m.isPartiallyBookedStart),!1===C.lastSlotBooked&&n.classList.add(m.isPartiallyBookedEnd));this.options.holidays.length&&this.options.holidays.filter(function(B){return B instanceof Array?a.isBetween(B[0],B[1],f.options.holidaysInclusivity):B.isSame(a,"day")}).length&&n.classList.add(m.isHoliday);this.options.highlightedDays.length&&this.options.highlightedDays.filter(function(B){return B instanceof
Array?a.isBetween(B[0],B[1],"[]"):B.isSame(a,"day")}).length&&n.classList.add(m.isHighlighted);if(1>=this.datePicked.length){C=a.clone();if(C.subtract(1,"day"),a.clone().add(1,"day"),this.options.bookedDays.length){u=this.options.bookedDaysInclusivity;this.options.hotelMode&&1===this.datePicked.length&&(u="()");u=this.dateIsBooked(a,u);var D=this.dateIsBooked(C,"[]"),E=this.dateIsBooked(a,"(]");p=this.options.anyBookedDaysAsCheckout&&1===this.datePicked.length;(0===this.datePicked.length&&u||1===
this.datePicked.length&&D&&u||1===this.datePicked.length&&D&&E)&&!p&&n.classList.add(m.isBooked)}if(this.options.partiallyBookedDays.length){u=this.options.partiallyBookedDaysInclusivity;this.options.hotelMode&&1===this.datePicked.length&&(u="()");var C;u=this.dateIsPartiallyBooked(a,u);C=(D=this.dateIsPartiallyBooked(C,"[]"),E=this.dateIsPartiallyBooked(a,"(]"),0===this.datePicked.length&&u||1===this.datePicked.length&&D&&u||1===this.datePicked.length&&D&&E);D=this.options.anyPartiallyBookedDaysAsCheckout&&
1===this.datePicked.length;C&&!D&&(!1===(C=this.options.days[a.format(this.options.format)]).firstSlotBooked&&n.classList.add(m.isPartiallyBookedStart),!1===C.lastSlotBooked&&n.classList.add(m.isPartiallyBookedEnd))}}return!this.options.disableWeekends||6!==a.getDay()&&0!==a.getDay()||n.classList.add(m.isLocked),"function"==typeof this.options.onRenderDay&&this.options.onRenderDay.call(this,n),n},w.prototype.renderFooter=function(){var a=document.createElement("div");if(a.className=m.containerFooter,
this.options.footerHTML?a.innerHTML=this.options.footerHTML:a.innerHTML='\n      <span class="'+m.previewDateRange+'"></span>\n      <button type="button" class="'+m.buttonCancel+'">'+this.options.buttonText.cancel+'</button>\n      <button type="button" class="'+m.buttonApply+'">'+this.options.buttonText.apply+"</button>\n      ",this.options.singleMode){if(1===this.datePicked.length){var f=this.datePicked[0].format(this.options.format,this.options.lang);a.querySelector("."+m.previewDateRange).innerHTML=
f}}else if(1===this.datePicked.length&&a.querySelector("."+m.buttonApply).setAttribute("disabled",""),2===this.datePicked.length){f=this.datePicked[0].format(this.options.format,this.options.lang);var n=this.datePicked[1].format(this.options.format,this.options.lang);a.querySelector("."+m.previewDateRange).innerHTML=""+f+this.options.delimiter+n}return a},w.prototype.renderWeekNumber=function(a){var f=document.createElement("div"),n=a.getWeek(this.options.firstDay);return f.className=m.weekNumber,
f.innerHTML=53===n&&0===a.getMonth()?"53 / 1":n,f},w.prototype.renderTooltip=function(){var a=document.createElement("div");return a.className=m.containerTooltip,a},w.prototype.dateIsBooked=function(a,f){return this.options.bookedDays.filter(function(n){return n instanceof Array?a.isBetween(n[0],n[1],f):n.isSame(a,"day")}).length},w.prototype.dateIsPartiallyBooked=function(a,f){return this.options.partiallyBookedDays.filter(function(n){return n instanceof Array?a.isBetween(n[0],n[1],f):n.isSame(a,
"day")}).length},w.prototype.dateIsHoliday=function(a,f){return this.options.holidays.filter(function(n){return n instanceof Array?a.isBetween(n[0],n[1],f):n.isSame(a,"day")}).length},w.prototype.weekdayName=function(a,f){return void 0===f&&(f="short"),(new Date(1970,0,a,12,0,0,0)).toLocaleString(this.options.lang,{weekday:f})},w.prototype.calcSkipDays=function(a){a=a.getDay()-this.options.firstDay;return 0>a&&(a+=7),a},w}();l.Calendar=t},function(g,l,t){function h(c){for(var r=-1,q=0;q<n.length;q++)if(n[q].identifier===
c){r=q;break}return r}function e(c,r){for(var q={},v=[],x=0;x<c.length;x++){var A=c[x],y=r.base?A[0]+r.base:A[0],D=q[y]||0,E="".concat(y," ").concat(D);q[y]=D+1;y=h(E);A={css:A[1],media:A[2],sourceMap:A[3]};-1!==y?(n[y].references++,n[y].updater(A)):n.push({identifier:E,updater:w(A,r),references:1});v.push(E)}return v}function k(c){var r=document.createElement("style"),q=c.attributes||{};if(void 0===q.nonce){var v=t.nc;v&&(q.nonce=v)}if(Object.keys(q).forEach(function(x){r.setAttribute(x,q[x])}),
"function"==typeof c.insert)c.insert(r);else{c=f(c.insert||"head");if(!c)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");c.appendChild(r)}return r}function m(c,r,q,v){q=q?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;c.styleSheet?c.styleSheet.cssText=p(r,q):(q=document.createTextNode(q),v=c.childNodes,v[r]&&c.removeChild(v[r]),v.length?c.insertBefore(q,v[r]):c.appendChild(q))}function z(c,r,q){r=q.css;var v=
q.media;q=q.sourceMap;if(v?c.setAttribute("media",v):c.removeAttribute("media"),q&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(q))))," */")),c.styleSheet)c.styleSheet.cssText=r;else{for(;c.firstChild;)c.removeChild(c.firstChild);c.appendChild(document.createTextNode(r))}}function w(c,r){if(r.singleton){var q=b++;var v=d||=k(r);var x=m.bind(null,v,q,!1);var A=m.bind(null,v,q,!0)}else v=k(r),x=z.bind(null,
v,r),A=function(){if(null===v.parentNode)var y=!1;else v.parentNode.removeChild(v),y=void 0;!y};return x(c),function(y){y?(y.css!==c.css||y.media!==c.media||y.sourceMap!==c.sourceMap)&&x(c=y):A()}}var a,f=function(){var c={};return function(r){if(void 0===c[r]){var q=document.querySelector(r);if(window.HTMLIFrameElement&&q instanceof window.HTMLIFrameElement)try{q=q.contentDocument.head}catch(v){q=null}c[r]=q}return c[r]}}(),n=[],u,p=(u=[],function(c,r){return u[c]=r,u.filter(Boolean).join("\n")}),
d=null,b=0;g.exports=function(c,r){(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=(void 0===a&&(a=!(!(window&&document&&document.all)||window.atob)),a));var q=e(c=c||[],r);return function(v){if(v=v||[],"[object Array]"===Object.prototype.toString.call(v)){for(var x=0;x<q.length;x++){var A=h(q[x]);n[A].references--}v=e(v,r);for(x=0;x<q.length;x++)A=h(q[x]),0===n[A].references&&(n[A].updater(),n.splice(A,1));q=v}}}},function(g,l,t){(l=t(8)(!1)).push([g.i,':root{--litepickerBgColor: #fff;--litepickerMonthHeaderTextColor: #333;--litepickerMonthButton: #9e9e9e;--litepickerMonthButtonHover: #2196f3;--litepickerMonthWidth: calc(var(--litepickerDayWidth) * 7);--litepickerMonthWeekdayColor: #9e9e9e;--litepickerDayColor: #333;--litepickerDayColorBg: #20c527;--litepickerDayColorHover: #2196f3;--litepickerDayIsTodayColor: #f44336;--litepickerDayIsInRange: #bbdefb;--litepickerDayIsLockedColor: #9e9e9e;--litepickerDayIsLockedColorBg: #a0a0a0;--litepickerDayIsHolidayColor: #000000;--litepickerDayIsHolidayColorBg: #ff9218;--litepickerDayIsBookedColor: #9e9e9e;--litepickerDayIsBookedColorBg: #f06f6f;--litepickerDayIsPartiallyBookedColor: #9e9e9e;--litepickerDayIsStartColor: #fff;--litepickerDayIsStartBg: #2196f3;--litepickerDayIsEndColor: #fff;--litepickerDayIsEndBg: #2196f3;--litepickerDayWidth: 38px;--litepickerButtonCancelColor: #fff;--litepickerButtonCancelBg: #9e9e9e;--litepickerButtonApplyColor: #fff;--litepickerButtonApplyBg: #2196f3;--litepickerButtonResetBtn: #909090;--litepickerButtonResetBtnHover: #2196f3;--litepickerHighlightedDayColor: #333;--litepickerHighlightedDayBg: #ffeb3b}.show-week-numbers{--litepickerMonthWidth: calc(var(--litepickerDayWidth) * 8)}.litepicker{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;font-size:0.8em;display:none}.litepicker .container__main{display:-webkit-box;display:-ms-flexbox;display:flex}.litepicker .container__months{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;background-color:var(--litepickerBgColor);border-radius:5px;-webkit-box-shadow:0 0 5px #ddd;box-shadow:0 0 5px #ddd;width:calc(var(--litepickerMonthWidth) + 10px);-webkit-box-sizing:content-box;box-sizing:content-box}.litepicker .container__months.columns-2{width:calc((var(--litepickerMonthWidth) * 2) + 20px)}.litepicker .container__months.columns-3{width:calc((var(--litepickerMonthWidth) * 3) + 30px)}.litepicker .container__months.columns-4{width:calc((var(--litepickerMonthWidth) * 4) + 40px)}.litepicker .container__months.split-view .month-item-header .button-previous-month,.litepicker .container__months.split-view .month-item-header .button-next-month{visibility:visible}.litepicker .container__months .month-item{padding:5px;width:var(--litepickerMonthWidth);-webkit-box-sizing:content-box;box-sizing:content-box}.litepicker .container__months .month-item-header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;font-weight:500;padding:10px 5px;text-align:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--litepickerMonthHeaderTextColor)}.litepicker .container__months .month-item-header div{-webkit-box-flex:1;-ms-flex:1;flex:1}.litepicker .container__months .month-item-header div>.month-item-name{margin-right:5px}.litepicker .container__months .month-item-header div>.month-item-year{padding:0}.litepicker .container__months .month-item-header .reset-button{color:var(--litepickerButtonResetBtn)}.litepicker .container__months .month-item-header .reset-button>svg,.litepicker .container__months .month-item-header .reset-button>img{fill:var(--litepickerButtonResetBtn);pointer-events:none}.litepicker .container__months .month-item-header .reset-button:hover{color:var(--litepickerButtonResetBtnHover)}.litepicker .container__months .month-item-header .reset-button:hover>svg{fill:var(--litepickerButtonResetBtnHover)}.litepicker .container__months .month-item-header .button-previous-month,.litepicker .container__months .month-item-header .button-next-month{visibility:hidden;text-decoration:none;color:var(--litepickerMonthButton);padding:3px 5px;border-radius:3px;-webkit-transition:color 0.3s, border 0.3s;transition:color 0.3s, border 0.3s;cursor:default}.litepicker .container__months .month-item-header .button-previous-month>svg,.litepicker .container__months .month-item-header .button-previous-month>img,.litepicker .container__months .month-item-header .button-next-month>svg,.litepicker .container__months .month-item-header .button-next-month>img{fill:var(--litepickerMonthButton);pointer-events:none}.litepicker .container__months .month-item-header .button-previous-month:hover,.litepicker .container__months .month-item-header .button-next-month:hover{color:var(--litepickerMonthButtonHover)}.litepicker .container__months .month-item-header .button-previous-month:hover>svg,.litepicker .container__months .month-item-header .button-next-month:hover>svg{fill:var(--litepickerMonthButtonHover)}.litepicker .container__months .month-item-weekdays-row{display:-webkit-box;display:-ms-flexbox;display:flex;justify-self:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;color:var(--litepickerMonthWeekdayColor)}.litepicker .container__months .month-item-weekdays-row>div{padding:5px 0;font-size:85%;-webkit-box-flex:1;-ms-flex:1;flex:1;width:var(--litepickerDayWidth);text-align:center}.litepicker .container__months .month-item:first-child .button-previous-month{visibility:visible}.litepicker .container__months .month-item:last-child .button-next-month{visibility:visible}.litepicker .container__months .month-item.no-previous-month .button-previous-month{visibility:hidden}.litepicker .container__months .month-item.no-next-month .button-next-month{visibility:hidden}.litepicker .container__days{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;justify-self:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:center;-webkit-box-sizing:content-box;box-sizing:content-box}.litepicker .container__days>div,.litepicker .container__days>a{padding:5px 0;width:var(--litepickerDayWidth)}.litepicker .container__days .day-item{color:var(--litepickerDayColor);text-align:center;text-decoration:none;border-radius:3px;-webkit-transition:color 0.3s, border 0.3s;transition:color 0.3s, border 0.3s;cursor:default}.litepicker .container__days .day-item:hover{color:var(--litepickerDayColorHover);-webkit-box-shadow:inset 0 0 0 1px var(--litepickerDayColorHover);box-shadow:inset 0 0 0 1px var(--litepickerDayColorHover)}.litepicker .container__days .day-item.is-today{color:var(--litepickerDayIsTodayColor)}.litepicker .container__days .day-item.is-locked{color:var(--litepickerDayIsLockedColor)}.litepicker .container__days .day-item.is-locked:hover{color:var(--litepickerDayIsLockedColor);-webkit-box-shadow:none;box-shadow:none;cursor:default}.litepicker .container__days .day-item.is-holiday{background-color:orange}.litepicker .container__days .day-item.is-holiday:hover{color:var(--litepickerDayIsLockedColor);-webkit-box-shadow:none;box-shadow:none;cursor:default}.litepicker .container__days .day-item.is-partially-booked-start{background:-webkit-gradient(linear, left top, right bottom, from(var(--litepickerDayColorBg)), color-stop(50%, var(--litepickerDayColorBg)), color-stop(50%, var(--litepickerDayIsBookedColorBg)), to(var(--litepickerDayIsBookedColorBg)));background:linear-gradient(to bottom right, var(--litepickerDayColorBg) 0%, var(--litepickerDayColorBg) 50%, var(--litepickerDayIsBookedColorBg) 50%, var(--litepickerDayIsBookedColorBg) 100%)}.litepicker .container__days .day-item.is-partially-booked-end{background:-webkit-gradient(linear, right bottom, left top, from(var(--litepickerDayColorBg)), color-stop(50%, var(--litepickerDayColorBg)), color-stop(50%, var(--litepickerDayIsBookedColorBg)), to(var(--litepickerDayIsBookedColorBg)));background:linear-gradient(to top left, var(--litepickerDayColorBg) 0%, var(--litepickerDayColorBg) 50%, var(--litepickerDayIsBookedColorBg) 50%, var(--litepickerDayIsBookedColorBg) 100%)}.litepicker .container__days .day-item.is-booked{color:var(--litepickerDayIsBookedColor)}.litepicker .container__days .day-item.is-booked:hover{color:var(--litepickerDayIsBookedColor);-webkit-box-shadow:none;box-shadow:none;cursor:default}.litepicker .container__days .day-item.is-in-range{background-color:var(--litepickerDayIsInRange);border-radius:0}.litepicker .container__days .day-item.is-start-date{color:var(--litepickerDayIsStartColor);background-color:var(--litepickerDayIsStartBg);border-top-left-radius:5px;border-bottom-left-radius:5px;border-top-right-radius:0;border-bottom-right-radius:0}.litepicker .container__days .day-item.is-start-date.is-flipped{border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:5px;border-bottom-right-radius:5px}.litepicker .container__days .day-item.is-end-date{color:var(--litepickerDayIsEndColor);background-color:var(--litepickerDayIsEndBg);border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:5px;border-bottom-right-radius:5px}.litepicker .container__days .day-item.is-end-date.is-flipped{border-top-left-radius:5px;border-bottom-left-radius:5px;border-top-right-radius:0;border-bottom-right-radius:0}.litepicker .container__days .day-item.is-start-date.is-end-date{border-top-left-radius:5px;border-bottom-left-radius:5px;border-top-right-radius:5px;border-bottom-right-radius:5px}.litepicker .container__days .day-item.is-highlighted{color:var(--litepickerHighlightedDayColor);background-color:var(--litepickerHighlightedDayBg)}.litepicker .container__days .week-number{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;color:#9e9e9e;font-size:85%}.litepicker .container__footer{text-align:right;padding:10px 5px;margin:0 5px;background-color:#fafafa;-webkit-box-shadow:inset 0px 3px 3px 0px #ddd;box-shadow:inset 0px 3px 3px 0px #ddd;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.litepicker .container__footer .preview-date-range{margin-right:10px;font-size:90%}.litepicker .container__footer .button-cancel{background-color:var(--litepickerButtonCancelBg);color:var(--litepickerButtonCancelColor);border:0;padding:3px 7px 4px;border-radius:3px}.litepicker .container__footer .button-cancel>svg,.litepicker .container__footer .button-cancel>img{pointer-events:none}.litepicker .container__footer .button-apply{background-color:var(--litepickerButtonApplyBg);color:var(--litepickerButtonApplyColor);border:0;padding:3px 7px 4px;border-radius:3px;margin-left:10px;margin-right:10px}.litepicker .container__footer .button-apply:disabled{opacity:0.7}.litepicker .container__footer .button-apply>svg,.litepicker .container__footer .button-apply>img{pointer-events:none}.litepicker .container__tooltip{position:absolute;margin-top:-4px;padding:4px 8px;border-radius:4px;background-color:#fff;-webkit-box-shadow:0 1px 3px rgba(0,0,0,0.25);box-shadow:0 1px 3px rgba(0,0,0,0.25);white-space:nowrap;font-size:11px;pointer-events:none;visibility:hidden}.litepicker .container__tooltip:before{position:absolute;bottom:-5px;left:calc(50% - 5px);border-top:5px solid rgba(0,0,0,0.12);border-right:5px solid transparent;border-left:5px solid transparent;content:""}.litepicker .container__tooltip:after{position:absolute;bottom:-4px;left:calc(50% - 4px);border-top:4px solid #fff;border-right:4px solid transparent;border-left:4px solid transparent;content:""}.litepicker-open{overflow:hidden}.litepicker-backdrop{display:none;background-color:#000;opacity:0.3;position:fixed;top:0;right:0;bottom:0;left:0}\n',
""]);l.locals={showWeekNumbers:"show-week-numbers",litepicker:"litepicker",containerMain:"container__main",containerMonths:"container__months",columns2:"columns-2",columns3:"columns-3",columns4:"columns-4",splitView:"split-view",monthItemHeader:"month-item-header",buttonPreviousMonth:"button-previous-month",buttonNextMonth:"button-next-month",monthItem:"month-item",monthItemName:"month-item-name",monthItemYear:"month-item-year",resetButton:"reset-button",monthItemWeekdaysRow:"month-item-weekdays-row",
noPreviousMonth:"no-previous-month",noNextMonth:"no-next-month",containerDays:"container__days",dayItem:"day-item",isToday:"is-today",isLocked:"is-locked",isHoliday:"is-holiday",isPartiallyBookedStart:"is-partially-booked-start",isPartiallyBookedEnd:"is-partially-booked-end",isBooked:"is-booked",isInRange:"is-in-range",isStartDate:"is-start-date",isFlipped:"is-flipped",isEndDate:"is-end-date",isHighlighted:"is-highlighted",weekNumber:"week-number",containerFooter:"container__footer",previewDateRange:"preview-date-range",
buttonCancel:"button-cancel",buttonApply:"button-apply",containerTooltip:"container__tooltip",litepickerOpen:"litepicker-open",litepickerBackdrop:"litepicker-backdrop"};g.exports=l},function(g,l,t){g.exports=function(h){var e=[];return e.toString=function(){return this.map(function(k){var m=function(z,w){var a=z[1]||"",f=z[3];if(!f)return a;if(w&&"function"==typeof btoa)return z=(n=f,u=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),p="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),
"/*# ".concat(p," */")),n=f.sources.map(function(d){return"/*# sourceURL=".concat(f.sourceRoot||"").concat(d," */")}),[a].concat(n).concat([z]).join("\n");var n,u,p;return[a].join("\n")}(k,h);return k[2]?"@media ".concat(k[2]," {").concat(m,"}"):m}).join("")},e.i=function(k,m,z){"string"==typeof k&&(k=[[null,k,""]]);var w={};if(z)for(var a=0;a<this.length;a++){var f=this[a][0];null!=f&&(w[f]=!0)}for(a=0;a<k.length;a++)f=[].concat(k[a]),z&&w[f[0]]||(m&&(f[2]?f[2]="".concat(m," and ").concat(f[2]):
f[2]=m),e.push(f))},e}},function(g,l,t){var h=this&&this.__assign||function(){return(h=Object.assign||function(a){for(var f,n=1,u=arguments.length;n<u;n++)for(var p in f=arguments[n])Object.prototype.hasOwnProperty.call(f,p)&&(a[p]=f[p]);return a}).apply(this,arguments)},e=this&&this.__createBinding||(Object.create?function(a,f,n,u){void 0===u&&(u=n);Object.defineProperty(a,u,{enumerable:!0,get:function(){return f[n]}})}:function(a,f,n,u){void 0===u&&(u=n);a[u]=f[n]}),k=this&&this.__setModuleDefault||
(Object.create?function(a,f){Object.defineProperty(a,"default",{enumerable:!0,value:f})}:function(a,f){a.default=f});g=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var f={};if(null!=a)for(var n in a)"default"!==n&&Object.hasOwnProperty.call(a,n)&&e(f,a,n);return k(f,a),f};Object.defineProperty(l,"__esModule",{value:!0});var m=t(0);l=t(3);var z=g(t(1)),w=t(2);l.Litepicker.prototype.show=function(a){void 0===a&&(a=null);var f=a||this.options.element;if(this.triggerElement=f,this.scrollToDate(a),
this.options.inlineMode)return this.picker.style.position="static",this.picker.style.display="inline-block",this.picker.style.top=null,this.picker.style.left=null,this.picker.style.bottom=null,void(this.picker.style.right=null);if(this.options.mobileFriendly&&w.isMobile())return this.picker.style.position="fixed",this.picker.style.display="block","portrait"===w.getOrientation()?(this.options.numberOfMonths=1,this.options.numberOfColumns=1):(this.options.numberOfMonths=2,this.options.numberOfColumns=
2),this.render(),f=this.picker.getBoundingClientRect(),this.picker.style.top="calc(50% - "+f.height/2+"px)",this.picker.style.left="calc(50% - "+f.width/2+"px)",this.picker.style.right=null,this.picker.style.bottom=null,this.picker.style.zIndex=this.options.zIndex,this.backdrop.style.display="block",this.backdrop.style.zIndex=this.options.zIndex-1,document.body.classList.add(z.litepickerOpen),"function"==typeof this.options.onShow&&this.options.onShow.call(this),void(a?a.blur():this.options.element.blur());
this.render();this.picker.style.position="absolute";this.picker.style.display="block";this.picker.style.zIndex=this.options.zIndex;a=f.getBoundingClientRect();f=this.picker.getBoundingClientRect();var n=a.bottom,u=a.left,p=0,d=0,b=0,c=0;if(this.options.parentEl){var r=this.picker.parentNode.getBoundingClientRect();n-=r.bottom;(n+=a.height)+f.height>window.innerHeight&&0<a.top-r.top-a.height&&(b=a.top-r.top-a.height);(u-=r.left)+f.width>window.innerWidth&&0<a.right-r.right-f.width&&(c=a.right-r.right-
f.width)}else p=window.scrollX||window.pageXOffset,d=window.scrollY||window.pageYOffset,n+f.height>window.innerHeight&&0<a.top-f.height&&(b=a.top-f.height),u+f.width>window.innerWidth&&0<a.right-f.width&&(c=a.right-f.width);this.picker.style.top=(b||n)+d+"px";this.picker.style.left=(c||u)+p+"px";this.picker.style.right=null;this.picker.style.bottom=null;"function"==typeof this.options.onShow&&this.options.onShow.call(this)};l.Litepicker.prototype.hide=function(){this.isShowning()&&(this.datePicked.length=
0,this.updateInput(),this.options.inlineMode?this.render():(this.picker.style.display="none","function"==typeof this.options.onHide&&this.options.onHide.call(this),this.options.mobileFriendly&&(document.body.classList.remove(z.litepickerOpen),this.backdrop.style.display="none")))};l.Litepicker.prototype.getDate=function(){return this.getStartDate()};l.Litepicker.prototype.getStartDate=function(){return this.options.startDate?this.options.startDate.clone().getDateInstance():null};l.Litepicker.prototype.getEndDate=
function(){return this.options.endDate?this.options.endDate.clone().getDateInstance():null};l.Litepicker.prototype.setDate=function(a){this.setStartDate(a);"function"==typeof this.options.onSelect&&this.options.onSelect.call(this,this.getDate())};l.Litepicker.prototype.setStartDate=function(a){a&&(this.options.startDate=new m.DateTime(a,this.options.format,this.options.lang),this.updateInput())};l.Litepicker.prototype.setEndDate=function(a){a&&(this.options.endDate=new m.DateTime(a,this.options.format,
this.options.lang),this.options.startDate.getTime()>this.options.endDate.getTime()&&(this.options.endDate=this.options.startDate.clone(),this.options.startDate=new m.DateTime(a,this.options.format,this.options.lang)),this.updateInput())};l.Litepicker.prototype.setDateRange=function(a,f){this.triggerElement=void 0;this.setStartDate(a);this.setEndDate(f);this.updateInput();"function"==typeof this.options.onSelect&&this.options.onSelect.call(this,this.getStartDate(),this.getEndDate())};l.Litepicker.prototype.gotoDate=
function(a,f){void 0===f&&(f=0);a=new m.DateTime(a);a.setDate(1);this.calendars[f]=a.clone();this.render()};l.Litepicker.prototype.setLockDays=function(a){this.options.lockDays=m.DateTime.convertArray(a,this.options.lockDaysFormat);this.render()};l.Litepicker.prototype.setHolidays=function(a){this.options.holidays=m.DateTime.convertArray(a,this.options.holidaysFormat);this.render()};l.Litepicker.prototype.setPartiallyBookedDays=function(a){this.options.partiallyBookedDays=m.DateTime.convertArray(a,
this.options.partiallyBookedDaysFormat);this.render()};l.Litepicker.prototype.setBookedDays=function(a){this.options.bookedDays=m.DateTime.convertArray(a,this.options.bookedDaysFormat);this.render()};l.Litepicker.prototype.setHighlightedDays=function(a){this.options.highlightedDays=m.DateTime.convertArray(a,this.options.highlightedDaysFormat);this.render()};l.Litepicker.prototype.setOptions=function(a){delete a.element;delete a.elementEnd;delete a.parentEl;a.startDate&&(a.startDate=new m.DateTime(a.startDate,
this.options.format,this.options.lang));a.endDate&&(a.endDate=new m.DateTime(a.endDate,this.options.format,this.options.lang));var f=h(h({},this.options.dropdowns),a.dropdowns),n=h(h({},this.options.buttonText),a.buttonText),u=h(h({},this.options.tooltipText),a.tooltipText);this.options=h(h({},this.options),a);this.options.dropdowns=h({},f);this.options.buttonText=h({},n);this.options.tooltipText=h({},u);!this.options.singleMode||this.options.startDate instanceof m.DateTime||(this.options.startDate=
null,this.options.endDate=null);this.options.singleMode||this.options.startDate instanceof m.DateTime&&this.options.endDate instanceof m.DateTime||(this.options.startDate=new m.DateTime(this.options.startDate,this.options.format,this.options.lang),this.options.endDate=null);for(a=0;a<this.options.numberOfMonths;a+=1)f=this.options.startDate?this.options.startDate.clone():new m.DateTime,f.setDate(1),f.setMonth(f.getMonth()+a),this.calendars[a]=f;this.options.lockDays.length&&(this.options.lockDays=
m.DateTime.convertArray(this.options.lockDays,this.options.lockDaysFormat));this.options.holidays.length&&(this.options.holidays=m.DateTime.convertArray(this.options.holidays,this.options.holidaysFormat));this.options.partiallyBookedDays.length&&(this.options.partiallyBookedDays=m.DateTime.convertArray(this.options.partiallyBookedDays,this.options.partiallyBookedDaysFormat));this.options.bookedDays.length&&(this.options.bookedDays=m.DateTime.convertArray(this.options.bookedDays,this.options.bookedDaysFormat));
this.options.highlightedDays.length&&(this.options.highlightedDays=m.DateTime.convertArray(this.options.highlightedDays,this.options.highlightedDaysFormat));this.render();this.options.inlineMode&&this.show();this.updateInput()};l.Litepicker.prototype.clearSelection=function(){this.options.startDate=null;this.options.endDate=null;this.datePicked.length=0;this.bookedDayAfterSelection=null;this.updateInput();this.isShowning()&&this.render()};l.Litepicker.prototype.destroy=function(){this.picker&&this.picker.parentNode&&
(this.picker.parentNode.removeChild(this.picker),this.picker=null);this.backdrop&&this.backdrop.parentNode&&this.backdrop.parentNode.removeChild(this.backdrop)}},function(g,l,t){Object.defineProperty(l,"__esModule",{value:!0})}]).Litepicker});
document.addEventListener("DOMContentLoaded",function(g){if("undefined"!==typeof calendarData){let l=calendarData;const t=()=>{jQuery("#litepicker .litepicker .container__days").css("visibility","hidden")},h=()=>{u.find("select[name=repetition-start]").change(function(){e()})},e=()=>{var p=jQuery("#booking-form");const d=p.find("select[name=repetition-start]");p=p.find("select[name=repetition-end]");const b=d.val();let c=!1,r=!1;p.find("option").each(function(){jQuery(this).val()<b||c||"true"==this.dataset.booked?
(jQuery(this).attr("disabled","disabled"),jQuery(this).prop("selected",!1)):(jQuery(this).removeAttr("disabled"),r||(jQuery(this).prop("selected",!0),r=!0));jQuery(this).val()>b&&"true"==this.dataset.booked&&(c=!0)})},k=(p,d,b="start",c=!1)=>{p.empty().attr("required","required");jQuery.each(d,function(r,q){r=new Option(q.timestart+" - "+q.timeend,q["timestamp"+b],c,c);q.disabled&&(r.disabled=!0);q.timeframe.locked&&(r.disabled=!0,r.dataset.booked=!0);p.append(r)})},m=()=>{if(jQuery("div.repetition-start span.date").text()!==
jQuery("div.repetition-end span.date").text()){jQuery.fn.reverse=[].reverse;const b=jQuery("#booking-form select[name=repetition-start]");var p=!1;jQuery("option",b).each(function(){"disabled"===jQuery(this).attr("disabled")&&(p=!0)});if(p){var d=!1;jQuery("option",b).reverse().each(function(){let c=jQuery(this);d&&"disabled"===d.attr("disabled")?c.attr("disabled","disabled"):("disabled"!==c.attr("disabled")&&c.attr("selected","selected"),d=c)})}}},z=p=>{const d=l.days[moment(p).format("YYYY-MM-DD")];
p=moment(p).format("DD.MM.YYYY");jQuery(".time-selection.repetition-end").find(".hint-selection").hide();let b=jQuery("#booking-form select[name=repetition-end]");jQuery(".time-selection.repetition-end span.date").text(p);k(b,d.slots,"end",d.fullDay);jQuery("#booking-form select[name=repetition-end],#booking-form .time-selection.repetition-end .date").show();jQuery("#booking-form input[type=submit]").removeAttr("disabled");e();d.fullDay?jQuery(".time-selection.repetition-end").find("select").hide():
jQuery(".time-selection.repetition-end").find("select").show()},w=()=>{let p=2;const d="portrait"===(window.matchMedia("(orientation: portrait)").matches?"portrait":"landscape");window.matchMedia(`(max-device-${d?"width":"height"}: ${480}px)`).matches&&(p=1,window.innerHeight<window.innerWidth&&(p=2));return p};let a=w(),f=!1;g=()=>{f=new Litepicker({element:document.getElementById("litepicker"),minDate:moment().format("YYYY-MM-DD"),startDate:moment().isAfter(l.startDate)?moment().format("YYYY-MM-DD"):
l.startDate,scrollToDate:!0,inlineMode:!0,firstDay:1,lang:l.lang,numberOfMonths:a,numberOfColumns:a,moveByOneMonth:!0,singleMode:!1,showWeekNumbers:!1,autoApply:!0,bookedDaysInclusivity:"[]",anyBookedDaysAsCheckout:!1,disallowBookedDaysInRange:!0,disallowPartiallyBookedDaysInRange:!0,disallowLockDaysInRange:l.disallowLockDaysInRange,mobileFriendly:!0,selectForward:!0,useResetBtn:!0,maxDays:l.maxDays,buttonText:{apply:"Buchen",cancel:"Abbrechen"},onAutoApply:p=>{p&&(jQuery("#booking-form").show(),
jQuery(".cb-notice.date-select").hide())},resetBtnCallback:()=>{jQuery("#booking-form").hide();jQuery(".cb-notice.date-select").show()},onChangeMonth:function(p,d){t();const b=moment(p.format("YYYY-MM-DD")).format("YYYY-MM-DD");d=moment(p.format("YYYY-MM-DD")).date(0).format("YYYY-MM-DD");p=moment(p.format("YYYY-MM-DD")).add(a,"months").date(1).format("YYYY-MM-DD");jQuery.post(cb_ajax.ajax_url,{_ajax_nonce:cb_ajax.nonce,action:"cb_calendar_data",item:jQuery("#booking-form input[name=item-id]").val(),
location:jQuery("#booking-form input[name=location-id]").val(),sd:d,ed:p},function(c){jQuery.extend(l.days,c.days);n(c);f.gotoDate(b)})}});jQuery("#litepicker .litepicker").hide();jQuery(window).on("orientationchange",function(p){f.setOptions({numberOfMonths:w(),numberOfColumns:w()})})};const n=p=>{t();f.setOptions({minDate:moment().isAfter(p.startDate)?moment().format("YYYY-MM-DD"):p.startDate,maxDate:p.endDate,startDate:moment().isAfter(p.startDate)?moment().format("YYYY-MM-DD"):p.startDate,days:p.days,
maxDays:p.maxDays,lockDays:p.lockDays,bookedDays:p.bookedDays,partiallyBookedDays:p.partiallyBookedDays,highlightedDays:p.highlightedDays,holidays:p.holidays,onDaySelect:function(d,b){if(0<=b){jQuery("#booking-form").show();if(1==b){const c=l.days[moment(d).format("YYYY-MM-DD")],r=moment(d).format("DD.MM.YYYY");jQuery(".time-selection.repetition-start").find(".hint-selection").hide();jQuery(".time-selection.repetition-end").find(".hint-selection").show();jQuery("#resetPicker").css("display","inline-block");
jQuery("#calendarNotice").css("display","inherit");jQuery("#booking-form select[name=repetition-end],#booking-form .time-selection.repetition-end .date").hide();jQuery("#booking-form input[type=submit]").attr("disabled","disabled");let q=jQuery("#booking-form select[name=repetition-start]");jQuery(".time-selection.repetition-start span.date").text(r);k(q,c.slots,"start",c.fullDay);c.fullDay?jQuery(".time-selection.repetition-start").find("select").hide():jQuery(".time-selection.repetition-start").find("select").show();
jQuery(".cb-notice.date-select").hide()}2==b&&(z(d),m())}},onSelect:function(d,b){jQuery("#booking-form").show();jQuery(".cb-notice.date-select").hide();d=p.days[moment(d).format("YYYY-MM-DD")];const c=p.days[moment(b).format("YYYY-MM-DD")];z(b);d.fullDay&&c.fullDay||h()}});jQuery("#litepicker .litepicker .container__days").fadeTo("fast",1)};jQuery("#resetPicker").on("click",function(p){p.preventDefault();f.clearSelection();jQuery(".hint-selection").show();jQuery(".time-selection .date").text("");
jQuery(".time-selection select").hide();jQuery("#resetPicker").hide();jQuery("#calendarNotice").hide();jQuery("#booking-form input[type=submit]").attr("disabled","disabled")});let u=jQuery("#booking-form");u.length&&(g(),n(l))}});
